@model ASP_PV411.Models.Home.HomeDemoViewModel

@{
    ViewData["Title"] = "Forms";
}
<div class="text-center">
    <h1 class="display-4">@Model.PageTitle</h1>
</div>

<p>
    Моделі форм дозволяють групувати дані для комплексних форм, а також допомагати з задачами валідації (перевірки даних).
</p>
<form method="post" class="border m-3 p-3">
    <h3>@Model.FormTitle</h3>
    <div class="row">
        <div class="col">
            <div class="input-group mb-3">
                <span class="input-group-text"
                      id="username-addon">
                    <i class="bi bi-person-vcard"></i>
                </span>
                @{
                    bool isUsernameInvalid = !string.IsNullOrEmpty(Model.ModelErrors?["user-name"]);
                    bool isUsernameValid = Model.ModelErrors != null && !isUsernameInvalid;
                }

                @* Якщо є передача даних форми, то відновлюємо їх у формі *@
                <input type="text"
                       value="@Model.FormModel?.UserName"
                       name="user-name"
                       class="form-control @(isUsernameValid ? "is-valid" : "") @(isUsernameInvalid ? "is-invalid" : "")"
                       placeholder="Username"
                       aria-label="Username"
                       aria-describedby="username-addon">

                @if (isUsernameInvalid)
                {
                    <div class="invalid-feedback">
                        @(Model.ModelErrors!["user-name"])
                    </div>
                }
            </div>
        </div>
        <div class="col">
            <div class="input-group mb-3">
                <span class="input-group-text"
                      id="user-email-addon">
                    <i class="bi bi-envelope-at"></i>
                </span>

                @{
                    bool isEmailInvalid = !string.IsNullOrEmpty(Model.ModelErrors?["user-name"]);
                    bool isEmailValid = Model.ModelErrors != null && !isEmailInvalid;
                }

                <input type="email"
                       value="@Model.FormModel?.UserEmail"
                       name="user-email"
                       class="form-control @(isEmailValid ? "is-valid" : "") @(isEmailInvalid ? "is-invalid" : "")"
                       placeholder="E-mail"
                       aria-label="E-mail"
                       aria-describedby="user-email-addon">
                @if (isEmailInvalid)
                {
                    <div class="invalid-feedback">
                        @(Model.ModelErrors!["user-email"])
                    </div>
                }

            </div>
        </div>
    </div>

    <button class="btn btn-primary" type="submit">
        Передати дані
    </button>
</form>